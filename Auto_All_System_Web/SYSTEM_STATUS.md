# Auto All System - ç³»ç»ŸçŠ¶æ€æŠ¥å‘Š

**ç”Ÿæˆæ—¶é—´**: 2026-01-19  
**çŠ¶æ€**: âœ… ç³»ç»Ÿè¿è¡Œæ­£å¸¸

---

## ğŸ“Š å®¹å™¨è¿è¡ŒçŠ¶æ€

æ‰€æœ‰Dockerå®¹å™¨å·²æˆåŠŸå¯åŠ¨å¹¶è¿è¡Œï¼š

| å®¹å™¨åç§° | çŠ¶æ€ | ç«¯å£æ˜ å°„ | å¥åº·çŠ¶æ€ |
|---------|------|---------|----------|
| frontend | âœ… è¿è¡Œä¸­ | 80:80 | N/A |
| backend | âœ… è¿è¡Œä¸­ | 8000:8000 | healthy |
| celery | âœ… è¿è¡Œä¸­ | - | N/A |
| celery-beat | âœ… è¿è¡Œä¸­ | - | N/A |
| db (PostgreSQL) | âœ… è¿è¡Œä¸­ | 5432:5432 | healthy |
| redis | âœ… è¿è¡Œä¸­ | 6379:6379 | healthy |

---

## ğŸ” æµ‹è¯•è´¦å·ä¿¡æ¯

### 1. è¶…çº§ç®¡ç†å‘˜
- **ç”¨æˆ·å**: `admin`
- **å¯†ç **: `admin123456`
- **é‚®ç®±**: admin@example.com
- **æ‰‹æœº**: 13800138000
- **è§’è‰²**: è¶…çº§ç®¡ç†å‘˜
- **ä½™é¢**: Â¥10,000.00
- **æƒé™**: å®Œæ•´çš„ç³»ç»Ÿç®¡ç†æƒé™

### 2. ç®¡ç†å‘˜
- **ç”¨æˆ·å**: `admin_user`
- **å¯†ç **: `admin123456`
- **é‚®ç®±**: admin_user@example.com
- **æ‰‹æœº**: 13900139000
- **è§’è‰²**: ç®¡ç†å‘˜
- **ä½™é¢**: Â¥5,000.00
- **æƒé™**: ç®¡ç†å‘˜æƒé™

### 3. æ™®é€šç”¨æˆ·
- **ç”¨æˆ·å**: `test_user`
- **å¯†ç **: `test123456`
- **é‚®ç®±**: test@example.com
- **æ‰‹æœº**: 13700137000
- **è§’è‰²**: æ™®é€šç”¨æˆ·
- **ä½™é¢**: Â¥1,010.00
- **æƒé™**: åŸºç¡€åŠŸèƒ½æƒé™

---

## ğŸ’³ æ”¯ä»˜ç³»ç»Ÿé…ç½®

### å·²å¯ç”¨çš„æ”¯ä»˜æ–¹å¼

1. **æ”¯ä»˜å®** (alipay)
   - çŠ¶æ€: âœ… å·²å¯ç”¨
   - æœ€å°é‡‘é¢: Â¥1.00
   - æœ€å¤§é‡‘é¢: Â¥10,000.00

2. **å¾®ä¿¡æ”¯ä»˜** (wechat)
   - çŠ¶æ€: âœ… å·²å¯ç”¨
   - æœ€å°é‡‘é¢: Â¥1.00
   - æœ€å¤§é‡‘é¢: Â¥10,000.00

3. **å¡å¯†å……å€¼** (card_code)
   - çŠ¶æ€: âœ… å·²å¯ç”¨
   - æœ€å°é‡‘é¢: Â¥10.00
   - æœ€å¤§é‡‘é¢: Â¥1,000.00

### æµ‹è¯•å……å€¼å¡å¯†

ç³»ç»Ÿå·²ç”Ÿæˆ15å¼ æµ‹è¯•å¡å¯†ï¼š

#### Â¥10.00 å……å€¼å¡ (5å¼ )
```
TEST-6FVP-DYE8-DLSQ (å·²ä½¿ç”¨)
TEST-WFJI-TCBE-7AP4
TEST-LQ29-ZEC3-6MPW
TEST-**** (è¿˜æœ‰2å¼ )
```

#### Â¥50.00 å……å€¼å¡ (5å¼ )
```
TEST-6G10-4DN7-AEBZ
TEST-S0C6-UJNI-JZG3
TEST-UNF8-RQV3-XB6U
TEST-**** (è¿˜æœ‰2å¼ )
```

#### Â¥100.00 å……å€¼å¡ (3å¼ )
```
TEST-X8TP-L0YP-I60V
TEST-7NYW-JIX4-O2R3
TEST-JO58-EAUZ-GXOX
```

#### Â¥500.00 å……å€¼å¡ (2å¼ )
```
TEST-8IBJ-MQFJ-FVUC
TEST-G7JU-EH23-DIA9
```

---

## âœ… åŠŸèƒ½æµ‹è¯•ç»“æœ

### å¡å¯†å……å€¼åŠŸèƒ½
- âœ… å¡å¯†ç”Ÿæˆ: æ­£å¸¸
- âœ… å¡å¯†éªŒè¯: æ­£å¸¸
- âœ… ä½™é¢å……å€¼: æ­£å¸¸
- âœ… çŠ¶æ€æ›´æ–°: æ­£å¸¸

**æµ‹è¯•ç»“æœ**:
```
æµ‹è¯•å¡å¯†: TEST-6FVP-DYE8-DLSQ
å¡å¯†é¢å€¼: Â¥10.00
test_userå……å€¼å‰ä½™é¢: Â¥1000.00
test_userå……å€¼åä½™é¢: Â¥1010.00
å……å€¼é‡‘é¢: Â¥10.00
âœ“ å¡å¯†å……å€¼æµ‹è¯•æˆåŠŸï¼
```

### APIè®¿é—®æµ‹è¯•
- âœ… APIæ–‡æ¡£: http://localhost:8000/api/docs/ (HTTP 200)
- âœ… åç«¯API: http://localhost:8000/api/ (æ­£å¸¸è¿è¡Œ)
- âœ… å‰ç«¯: http://localhost (æ­£å¸¸è¿è¡Œ)

---

## ğŸŒ ç³»ç»Ÿè®¿é—®åœ°å€

- **å‰ç«¯é¡µé¢**: http://localhost  
  (æˆ– http://localhost:80)

- **åç«¯API**: http://localhost:8000/api  
  å®Œæ•´çš„RESTful APIæ¥å£

- **APIæ–‡æ¡£**: http://localhost:8000/api/docs  
  Swagger APIäº¤äº’å¼æ–‡æ¡£

- **æ•°æ®åº“**: localhost:5432  
  PostgreSQL 14 (ç”¨æˆ·: auto_all_system, å¯†ç : auto_all_system_password)

- **Redis**: localhost:6379  
  Redis 7 (æ— å¯†ç )

---

## ğŸ“‚ æ•°æ®å­˜å‚¨

### Docker Volumes
æ‰€æœ‰æ•°æ®æŒä¹…åŒ–å­˜å‚¨åœ¨Docker volumesä¸­ï¼š

- `auto_all_system_web_postgres_data`: æ•°æ®åº“æ•°æ®
- `auto_all_system_web_static_volume`: é™æ€æ–‡ä»¶
- `auto_all_system_web_media_volume`: åª’ä½“æ–‡ä»¶

### å¤‡ä»½å»ºè®®
```bash
# å¤‡ä»½æ•°æ®åº“
docker exec db pg_dump -U auto_all_system auto_all_system > backup.sql

# å¤‡ä»½volumes
docker run --rm -v auto_all_system_web_postgres_data:/data -v $(pwd):/backup ubuntu tar czf /backup/postgres_backup.tar.gz /data
```

---

## ğŸ”§ å¸¸ç”¨ç®¡ç†å‘½ä»¤

### å¯åŠ¨ç³»ç»Ÿ
```bash
docker-compose -f Auto_All_System_Web/docker-compose.yml up -d
```

### åœæ­¢ç³»ç»Ÿ
```bash
docker-compose -f Auto_All_System_Web/docker-compose.yml down
```

### æŸ¥çœ‹æ—¥å¿—
```bash
# æŸ¥çœ‹æ‰€æœ‰å®¹å™¨æ—¥å¿—
docker-compose -f Auto_All_System_Web/docker-compose.yml logs -f

# æŸ¥çœ‹ç‰¹å®šå®¹å™¨æ—¥å¿—
docker logs -f backend
docker logs -f frontend
docker logs -f celery
```

### è¿›å…¥å®¹å™¨
```bash
# è¿›å…¥backendå®¹å™¨
docker exec -it backend bash

# è¿›å…¥æ•°æ®åº“å®¹å™¨
docker exec -it db psql -U auto_all_system
```

### æ•°æ®åº“ç®¡ç†
```bash
# è¿è¡Œè¿ç§»
docker exec backend python manage.py migrate

# åˆ›å»ºè¶…çº§ç”¨æˆ·
docker exec -it backend python manage.py createsuperuser

# é‡æ–°åˆå§‹åŒ–ç³»ç»Ÿ
docker exec backend python init_system.py
```

---

## ğŸ“ˆ ä¸‹ä¸€æ­¥å»ºè®®

### ç«‹å³å¯åšçš„äº‹æƒ…

1. **æµ‹è¯•å‰ç«¯ç•Œé¢**
   - è®¿é—® http://localhost
   - ä½¿ç”¨æµ‹è¯•è´¦å·ç™»å½•
   - æµ‹è¯•å„é¡¹åŠŸèƒ½

2. **æµ‹è¯•API**
   - è®¿é—® http://localhost:8000/api/docs
   - ä½¿ç”¨æµ‹è¯•è´¦å·è·å–JWT token
   - æµ‹è¯•å„ä¸ªAPIç«¯ç‚¹

3. **æµ‹è¯•å……å€¼åŠŸèƒ½**
   - ä½¿ç”¨test_userç™»å½•
   - ä½¿ç”¨ä¸Šé¢åˆ—å‡ºçš„ä»»æ„å¡å¯†å……å€¼
   - éªŒè¯ä½™é¢å˜åŒ–

4. **æµ‹è¯•ä»»åŠ¡ç³»ç»Ÿ**
   - åˆ›å»ºGoogleè´¦å·ä»»åŠ¡
   - æŸ¥çœ‹Celeryä»»åŠ¡æ‰§è¡Œæƒ…å†µ
   - æ£€æŸ¥ä»»åŠ¡æ—¥å¿—

### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²å‰

1. ä¿®æ”¹ `.env` æ–‡ä»¶ä¸­çš„æ•æ„Ÿä¿¡æ¯
2. é…ç½®çœŸå®çš„æ”¯ä»˜å®/å¾®ä¿¡æ”¯ä»˜å¯†é’¥
3. è®¾ç½®å¼ºå¯†ç 
4. é…ç½®HTTPS/SSLè¯ä¹¦
5. è®¾ç½®å®šæœŸæ•°æ®å¤‡ä»½
6. é…ç½®ç›‘æ§å’Œæ—¥å¿—æ”¶é›†
7. è¿›è¡Œå…¨é¢çš„å®‰å…¨å®¡è®¡

---

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **å®‰å…¨è­¦å‘Š**: 
   - å½“å‰ä½¿ç”¨çš„æ˜¯æµ‹è¯•å¯†ç å’Œé…ç½®
   - ç”Ÿäº§ç¯å¢ƒå¿…é¡»ä¿®æ”¹æ‰€æœ‰é»˜è®¤å¯†ç 
   - ä¸è¦å°†æµ‹è¯•å¡å¯†ç”¨äºç”Ÿäº§ç¯å¢ƒ

2. **æ•°æ®æŒä¹…åŒ–**:
   - æ‰€æœ‰æ•°æ®å­˜å‚¨åœ¨Docker volumesä¸­
   - åˆ é™¤å®¹å™¨ä¸ä¼šåˆ é™¤æ•°æ®
   - ä½¿ç”¨ `docker-compose down -v` ä¼šåˆ é™¤æ‰€æœ‰æ•°æ®

3. **æ€§èƒ½ä¼˜åŒ–**:
   - å½“å‰é…ç½®é€‚ç”¨äºå¼€å‘/æµ‹è¯•ç¯å¢ƒ
   - ç”Ÿäº§ç¯å¢ƒéœ€è¦è°ƒæ•´æ•°æ®åº“è¿æ¥æ± 
   - è€ƒè™‘ä½¿ç”¨CDNåŠ é€Ÿé™æ€æ–‡ä»¶

4. **æ—¥å¿—ç®¡ç†**:
   - å®šæœŸæ¸…ç†æ—¥å¿—æ–‡ä»¶
   - é…ç½®æ—¥å¿—è½®è½¬
   - ç›‘æ§ç£ç›˜ä½¿ç”¨æƒ…å†µ

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚é‡é—®é¢˜ï¼Œè¯·æŒ‰ä»¥ä¸‹é¡ºåºæ’æŸ¥ï¼š

1. æ£€æŸ¥å®¹å™¨è¿è¡ŒçŠ¶æ€: `docker ps`
2. æŸ¥çœ‹å®¹å™¨æ—¥å¿—: `docker logs <container_name>`
3. æ£€æŸ¥æ•°æ®åº“è¿æ¥: `docker exec -it db psql -U auto_all_system`
4. æ£€æŸ¥Redisè¿æ¥: `docker exec -it redis redis-cli ping`
5. é‡å¯æœåŠ¡: `docker-compose restart`

---

**ç³»ç»Ÿç‰ˆæœ¬**: v1.0.0  
**æœ€åæ›´æ–°**: 2026-01-19  
**çŠ¶æ€**: âœ… æ‰€æœ‰ç³»ç»Ÿç»„ä»¶æ­£å¸¸è¿è¡Œ

